<!DOCTYPE html>
<html>
<head>
  <title>Shopping Cart</title>
</head>
<body>
  <ul id="product-list"></ul>
  <h2>Shopping Cart</h2>
  <ul id="cart-list"></ul>
  <button id="clear-cart-btn">Clear Cart</button>
  <script>
    // Product Data
    const products = [
      { id: 1, name: "Product 1", price: 10 },
      { id: 2, name: "Product 2", price: 20 },
      { id: 3, name: "Product 3", price: 30 },
      { id: 4, name: "Product 4", price: 40 },
      { id: 5, name: "Product 5", price: 50 },
    ];

    // DOM Elements
    const productList = document.getElementById("product-list");
    const cartList = document.getElementById("cart-list");
    const clearCartBtn = document.getElementById("clear-cart-btn");

    // Utility Functions
    const saveCartToSession = (cart) => {
      sessionStorage.setItem("shoppingCart", JSON.stringify(cart));
    };

    const loadCartFromSession = () => {
      return JSON.parse(sessionStorage.getItem("shoppingCart")) || [];
    };

    const updateCartDisplay = (cart) => {
      cartList.innerHTML = "";
      cart.forEach((item) => {
        const li = document.createElement("li");
        li.textContent = `${item.name} - $${item.price}`;
        cartList.appendChild(li);
      });
    };

    // Render Products
    const renderProducts = () => {
      products.forEach((product) => {
        const li = document.createElement("li");
        li.textContent = `${product.name} - $${product.price}`;

        const addButton = document.createElement("button");
        addButton.textContent = "Add to Cart";
        addButton.addEventListener("click", () => {
          const cart = loadCartFromSession();
          cart.push(product);
          saveCartToSession(cart);
          updateCartDisplay(cart);
        });

        li.appendChild(addButton);
        productList.appendChild(li);
      });
    };

    // Clear Cart Functionality
    clearCartBtn.addEventListener("click", () => {
      sessionStorage.removeItem("shoppingCart");
      updateCartDisplay([]);
    });

    // Initialize Page
    const init = () => {
      renderProducts();
      const cart = loadCartFromSession();
      updateCartDisplay(cart);
    };

    init();
  </script>
</body>
</html>

